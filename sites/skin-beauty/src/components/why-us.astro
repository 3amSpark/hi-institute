---
import ParallaxImage from "src/components/parallax-image.astro";
import GrainTexture from "src/components/grain-texture.astro";
import Heading from "@repo/ui/components/heading.astro";
import ValueCard from "src/components/value-card.astro";

interface Props {
  backgroundImage: string;
  backgroundImageAlt?: string;
  heading: string;
  valueCards: Array<{
    title: string;
    description: string[];
  }>;
}

const {
  backgroundImage,
  backgroundImageAlt = "Background image",
  heading,
  valueCards,
} = Astro.props;
---

<section class="w-full px-2 py-40 relative overflow-hidden">
  <ParallaxImage yPercent={20} start="top top" end="bottom top">
    <div class="absolute inset-0 scale-130 z-0">
      <img
        src={backgroundImage}
        alt={backgroundImageAlt}
        class="w-full h-full object-cover object-center"
      />
      <GrainTexture />
    </div>
  </ParallaxImage>
  <div class="relative z-10 flex flex-col gap-20">
    <Heading
      level={2}
      className="text-white text-shadow-sm font-medium text-center text-balance "
      text={heading}
    />
    <div
      class="grid md:grid-cols-3 grid-cols-1 sm:w-full mx-auto grid-rows-[auto_1fr] gap-y-3 gap-x-4 max-w-6xl"
    >
      {
        valueCards.map((item, idx) => (
          <ValueCard
            title={item.title}
            description={item.description}
            index={idx}
            duration={1}
            delay={idx * 0.1}
            yOffset={-20}
          />
        ))
      }
    </div>
  </div>
</section>
